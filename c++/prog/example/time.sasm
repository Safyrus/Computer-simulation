

# setup registers
MOV $A 3E
MOV $C 00

WAIT:
GET $B DF FD    # get current ms
CMP $A $B       # while current ms < A
AND $F $F 0E
JMP 02 :WAIT     #   wait
JMP $F :STEP     # overwise step

STEP:
ADD $C $C 01    # inc C
ADD $A $A 40    # add to A ms to wait
JMP $F :WAIT     # go back to wait
